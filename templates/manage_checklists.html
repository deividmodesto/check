{% extends 'base.html' %}

{% block title %}Gerenciar Checklists{% endblock %}

{% block content %}
<div class="list-card">
    <h2>Gerenciar Checklists</h2>
    <p>A partir daqui, você pode editar ou apagar os templates de checklist existentes.</p>

    {% if checklists %}
        <ul class="item-list">
            {% for chk in checklists %}
                <li>
                    <div class="item-info">
                        <strong>#{{ chk.ID }} - {{ chk.Titulo }}</strong>
                        <span>Setor: {{ chk.NomeSetor }}</span>
                    </div>
                    <div class="item-actions">
                        <a href="{{ url_for('edit_checklist', checklist_id=chk.ID) }}" class="btn-secondary">Editar</a>
                        
                        <form action="{{ url_for('delete_checklist', checklist_id=chk.ID) }}" method="POST" style="display: inline;" onsubmit="return confirm('Tem certeza que deseja apagar o checklist \'{{ chk.Titulo }}\'? Esta ação não pode ser desfeita.');">
                            <button type="submit" class="btn-danger">Apagar</button>
                        </form>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Nenhum checklist foi criado nos seus setores ainda.</p>
    {% endif %}
</div>

<style>
    /* Mantenha o estilo original aqui */
    .item-actions { display: flex; align-items: center; }
    .btn-secondary, .btn-danger { padding: 8px 15px; text-decoration: none; color: white; border-radius: 5px; margin-left: 10px; border: none; cursor: pointer; font-size: 14px; }
    .btn-secondary { background-color: #6c757d; }
    .btn-danger { background-color: #dc3545; }
</style>
{% endblock %}